[CAPTURE]
method = mss
screen_width = 2560
screen_height = 1440
game_left = 321
game_top = 192
game_width = 1917
game_height = 1078
downscale_factor = 1.0
fps_limit = 60
target_monitor = 1
monitor_left = 0
monitor_top = 0
monitor_width = 2560
monitor_height = 1440
game_window_width = 1920
game_window_height = 1080
require_calibration = true
capture_region = {'left': 320, 'top': 190, 'width': 1919, 'height': 1079}
capture_region_width = 1917
capture_region_height = 1077
lane_positions = 300, 600
note_detection_threshold = 0.75

[DETECTION]
capture_fps = 30
capture_region_x = 323
capture_region_y = 192
capture_region_width = 1917
capture_region_height = 1077
lane_positions = 200,333,466,600,733,866
note_detection_threshold = 1.0
note_colors_red = 255,128,64,255,128,0
note_colors_green = 0,255,128,255,255,0
note_colors_blue = 0,0,255,0,255,255
sustain_note_color = 0,255,0

[TIMING]
note_speed_pixels_per_second = 400
perfect_timing_window_ms = 50
good_timing_window_ms = 100
ok_timing_window_ms = 150
input_latency_compensation_ms = 5
audio_latency_compensation_ms = 15

[INPUT]
key_bindings = s,d,f,j,k,l
key_press_duration_ms = 50
simultaneous_keys_max = 6

[AI]
# Reinforcement Learning Agent Configuration (DQN)
# ------------------------------------------------

# --- Model Hyperparameters ---
learning_rate = 0.00025       ; Learning rate for AdamW optimizer
epsilon = 1.0               ; Initial epsilon value (exploration)
epsilon_decay = 0.9995      ; Epsilon decay factor per training step
epsilon_min = 0.01          ; Minimum epsilon value (minimum exploration)
batch_size = 64             ; Batch size for network training
memory_size = 10000         ; Maximum capacity of experience replay buffer
target_update_frequency = 1000 ; Frequency (in steps) to update target network

# --- Architecture and Optimizations ---
double_dqn = True           ; Use Double DQN to reduce Q-value overestimation
dueling_dqn = True          ; Use Dueling DQN to separate value and advantage estimation
prioritized_replay = True   ; Use Prioritized Experience Replay for more efficient sampling
use_mixed_precision = True  ; Use mixed precision to accelerate training on compatible GPUs

# --- Training Configuration ---
model_save_path = models/dqn_guitar_hero.pth ; Path to save the trained model
num_episodes = 1000         ; Total number of episodes to train
max_steps_per_episode = 5000 ; Maximum number of steps (frames) per episode
save_frequency = 10         ; Frequency (in episodes) to save a model checkpoint

[LOGGING]
log_level = INFO
log_file = logs/guitar_hero_ia.log
max_log_size_mb = 10
backup_count = 5

[VISUALIZATION]
show_debug_window = True
show_detection_overlay = True
show_timing_info = True
show_ai_decisions = True

;[calibration]
;region = {'x': 318, 'y': 190, 'width': 1920, 'height': 1077, 'monitor': 1, 'raw_coords': {'scaled': (199, 119, 1399, 792), 'real': (318, 190, 2238, 1267), 'scale_factor': 0.625}}

[HSV_RANGES]
green_h_min = 50
green_s_min = 70
green_v_min = 233
green_h_max = 56
green_s_max = 105
green_v_max = 255
yellow_h_min = 24
yellow_s_min = 100
yellow_v_min = 210
yellow_h_max = 26
yellow_s_max = 255
yellow_v_max = 255

[MORPHOLOGY]
close_size = 20
dilate_size = 15
min_area = 2000
max_area = 10000

[SCORE]
score_region = {'left': 1951, 'top': 290, 'width': 237, 'height': 63}
score_region_relative = {'left': 1627, 'top': 99, 'width': 253, 'height': 62}

[LANE_POLYGON_S]
point_0_x = 165
point_0_y = 585
point_1_x = 293
point_1_y = 691
point_2_x = 503
point_2_y = 535
point_3_x = 370
point_3_y = 444
point_count = 4

[LANE_POLYGON_D]
point_0_x = 432
point_0_y = 731
point_1_x = 622
point_1_y = 807
point_2_x = 724
point_2_y = 621
point_3_x = 563
point_3_y = 547
point_count = 4

[LANE_POLYGON_F]
point_0_x = 703
point_0_y = 799
point_1_x = 912
point_1_y = 827
point_2_x = 952
point_2_y = 620
point_3_x = 762
point_3_y = 602
point_count = 4

[LANE_POLYGON_J]
point_0_x = 979
point_0_y = 821
point_1_x = 1197
point_1_y = 797
point_2_x = 1129
point_2_y = 607
point_3_x = 973
point_3_y = 620
point_count = 4

[LANE_POLYGON_K]
point_0_x = 1280
point_0_y = 791
point_1_x = 1479
point_1_y = 722
point_2_x = 1352
point_2_y = 554
point_3_x = 1181
point_3_y = 613
point_count = 4

[LANE_POLYGON_L]
point_0_x = 1573
point_0_y = 691
point_1_x = 1720
point_1_y = 575
point_2_x = 1550
point_2_y = 443
point_3_x = 1404
point_3_y = 539
point_count = 4

[COMBO]
combo_region = {'left': 872, 'top': 108, 'width': 165, 'height': 110}

